Вариант 7. Имитация отжига для TSP
Код реализует метаэвристику — имитацию отжига для решения задачи коммивояжёра (TSP) с ручным вводом матрицы расстояний для 8 городов. Вот как работает этот алгоритм по шагам:

1. Ввод данных:
   - Пользователь вручную вводит матрицу расстояний размером 8x8, где каждый элемент описывает расстояние между двумя городами.

2. Инициализация:
   - Алгоритм создаёт случайный начальный маршрут — последовательность обхода всех городов без повторов.
   - Вычисляется длина этого начального маршрута.

3. Основной цикл имитации отжига:
   - Изначально температура установлена на 100.
   - Пока температура не снизится до очень малого значения (0.01), повторяются циклы с заданным количеством итераций (1000):
     - На каждой итерации создаётся новое соседнее решение маршрута путём 2-opt обмена (выбирается случайный промежуток городов, который разворачивается).
     - Вычисляется длина нового маршрута.
     - Рассчитывается разница по длине (дельта) между новым и текущим маршрутом.
     - Если новый маршрут короче, он принимается гарантированно.
     - Если новый маршрут длиннее, он принимается с вероятностью $$ e^{-\Delta/T} $$, где $$ \Delta $$ — ухудшение, $$ T $$ — текущая температура.
     - Такой подход (критерий Метрополиса) позволяет алгоритму избежать застревания в локальных оптимумах.
     - Если найден улучшенный маршрут (меньшая длина), он запоминается как лучший.

4. Охлаждение температуры:
   - После каждой группы итераций температура уменьшается на коэффициент 0.95, снижая вероятность принятия худших решений.

5. Аналитика:
   - Ведётся учёт числа улучшений маршрута при каждой температуре для оценки эффективности поиска.

6. Итог:
   - После завершения цикла выводится лучший найденный маршрут, его стоимость, и статистика улучшений по температурам.

Таким образом, код последовательно исследует пространство маршрутов, начиная с случайного обхода, постепенно "затвердевая" (охлаждаясь) и сужая область поиска к оптимальному или хорошему решению. 2-opt обмены обеспечивают эффективное исследование соседних решений. Параметры (начальная температура, коэффициент охлаждения, число итераций) регулируют баланс между глобальным поиском и локальной оптимизацией.
